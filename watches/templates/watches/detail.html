{% extends 'core/base.html' %}
{% load humanize %}

{% block title %}{{ item.name }}{% endblock %}

{% block content %}
<div class="grid grid-cols-1 gap-6">
    <div class="p-8 m-4">
        <h1 class="text-6xl p-12 rounded specs text-center"> {{ item.name }}</h1>
        <div class="flex p-8 rounded-xl">
            <div class="w-1/2 pr-10">
                <!-- Left side with the larger image -->
                <div class="max-w-md max-h-96 mx-auto ml-auto">
                    <img src="{{ item.image.url }}" class="rounded-xl w-full h-full">
                </div>
            </div>
            <div class="w-1/2 text-left p-12">
                <!-- Right side with description, contact, price, and buttons -->
                {% if item.description %}
                <p class="text-gray-800 mb-6">
                    <i class="fa-regular fa-copy mr-2 text-2xl"></i> <strong class="specs text-2xl">Description:</strong><br>
                    <span class="m-4 cursiv font-semibold">{{ item.description }}</span>
                </p>
                {% endif %}
                <p class="text-gray-800 mb-6">
                    <i class="fa-solid fa-address-book mr-2 text-2xl"></i> <strong class="specs text-2xl">Contact:</strong><br>
                    <span class="m-4 cursiv text-2xl font-semibold inline-block">{{ item.created_by.username }} @ Orlandinikarlo@gmail.com</span>
                    <a href="{{ watch.ebay_link }}" target="_blank">
                        <i class="fa-brands fa-ebay text-6xl inline-block text-blue-400"></i>
                    </a>
                </p>
                <p class="text-gray-800 mb-6">
                    <i class="fa-solid fa-tags text-2xl mr-2"></i> <strong class="specs text-2xl">Price :</strong><br>
                    <span class="m-4 cursiv text-2xl font-semibold">{{ item.price|intcomma }} Â£</span>
                </p>
                <a href="{% url 'watches:submit_offer' item.pk %}"
                    class="inline-block mt-8 px-8 py-4 text-lg font-semibold bg-red-800 text-white hover:bg-grey-300 rounded specs">Submit
                    an offer</a>
                <a href="{% url 'conversation:new' item.id %}"
                    class="ml-10 inline-block mt-8 px-8 py-4 text-lg font-semibold bg-black text-white hover:bg-grey-300 rounded specs">Message
                    seller</a>
            </div>
        </div>
    </div>

    <div class="p-8 rounded-xl mt-8">
        <h2 class="mb-8 font-semibold info text-3xl text-center p-12"><i class="fa-solid fa-gears mr-10"></i>
            Specifications</h2>
        <div class="grid grid-cols-2 gap-6 specs font-bold">
            <div class="mb-4">
                <i class="fa-solid fa-box mr-5"></i><strong class="info font-bold mr-12">Box: </strong>
                {% if item.has_box %} Yes {% else %} No {% endif %}
            </div>
            <div class="mb-4">
                <i class="fa-regular fa-paste mr-5"></i><strong class="info font-bold mr-12">Papers:</strong>
                {% if item.has_papers %} Yes {% else %} No {% endif %}
            </div>
            <div class="mb-4">
                <i class="fa-solid fa-calendar-days mr-5"></i><strong class="info font-bold mr-12">Year:</strong>
                {{ item.year }}
            </div>
            <div class="mb-4">
                <i class="fa-solid fa-water-ladder mr-5"></i> <strong class="info font-bold mr-12">Water
                    Resistance:</strong> {{ item.water_resistance }}
            </div>
            <div class="mb-4">
                <i class="fa-solid fa-ruler mr-5"></i><strong class="info font-bold mr-12">Case Size:</strong>
                {{ item.case_size }}
            </div>
            <div class="mb-4">
                <i class="fa-solid fa-recycle mr-5"></i> <strong class="info font-bold mr-12">Case Material:</strong>
                {{ item.case_material }}
            </div>
            <div class="mb-4">
                <i class="fa-regular fa-clock mr-5"></i> <strong class="info font-bold mr-12">Movement:</strong>
                {{ item.movement }}
            </div>
        </div>
    </div>

</div>

<div class="mt-10 px-10 py-16">
    <h2 class="mb-16 text-4xl text-center uppercase w-full specs font-bold">Related Items</h2>
    <div class="grid grid-cols-4 gap-4">
        {% for watch in related_items %}
        <div>
            <a href="{% url 'watches:detail' watch.id %}">
                <div>
                    <img src="{{ watch.image.url }}" class="w-2/4 h-auto object-contain mx-auto rounded">
                    <div class="p-6 rounded-xl mt-4">
                        <h2 class="text-lg uppercase text-center span">
                            {{ watch.name }}
                        </h2>
                        <p class="text-center font-semibold info mt-4"> Price : {{ watch.price|intcomma }} <i
                                class="fa-solid fa-sterling-sign"></i></p>
                        <p class="text-center mt-1 font-semibold info"> Year : <span
                                class="text-center info">{{ watch.year }} </span></p>
                        <div class="flex justify-center mt-2">
                            <div class="text-center mr-4">
                                <span class="font-semibold text-s info">With box</span>
                                {% if watch.has_box %}
                                <span class="font-light text-s"><i class="fa-solid fa-circle-check"></i></span>
                                {% else %}
                                <span class="font-light text-s"><i class="fa-regular fa-circle-xmark"></i></span>
                                {% endif %}
                            </div>

                            <!-- Check if has_papers is True and display the icon accordingly -->
                            <div class="text-center">
                                <span class="font-semibold text-s info">With papers</span>
                                {% if watch.has_papers %}
                                <span class="font-light text-s"><i class="fa-solid fa-circle-check"></i></span>
                                {% else %}
                                <span class="font-light text-s"><i class="fa-regular fa-circle-xmark"></i></span>
                                {% endif %}
                            </div>
                        </div>
                        <div class="flex flex-col items-center mt-2">
                            <p class="text-center text-xs">
                                <a href="{{ watch.ebay_link }}" target="_blank">
                                    <i class="fa-brands fa-ebay text-4xl"></i>
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
